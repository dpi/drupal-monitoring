- rest stuff in monitoring.settings.ylm needs to move to monitoring_install() and manual config load and writes, assuming we want to enable it by default. That said, let's not do that. :)
- The entity should probably be changed to a content entity, not sure if non-content entities will continue to be supported after menu link is converted. That means you need to define base fields and use @ContentEntityType. That will mean that you need to remove the public properties and use them like $entity->sensor_name->value, but we have almost no code accessing them anyway?
- Would be nice to use service injection for the forms with the create method for the sensor manager and extend from FormBase, then you can use stuff like $this->t(), $this->currentUser()->hasPermission(), $this->config() and so on.
- Wondering if we should add a SensorInfo::getSensor() (factory to create a sensor based on getSensorClass()), to a) solve the type hint problem and b), support container service injection like plugins with the create() method. See ContainerFactory, you would just inline that logic. Advantage: Easier to convert to plugins later.
- the status message in SensorCronLastRunAge is now almost duplicated due to the value type formatting, but that's an existing problem in 7.x.
- SensorImageMissingStyle => should use entity api to load the file, also https://drupal.org/node/1812240 (file_usage() no longer exists, Drupal::service('file.usage') instead. Please update the change record :) => The only interesting verbose output that we have and we have no test coverage? sad panda :)
